<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Patient Appointment Booking</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app">
    <header class="topbar">
      <div class="brand">
        <div class="brand-icon" aria-hidden="true">+</div>
        <div class="brand-text">
          <div class="brand-title">Patient Appointment Booking</div>
          <div class="brand-subtitle">View available appointment slots and submit a booking request.</div>
        </div>
      </div>

      <div class="topbar-actions">
        <span class="pill" id="envPill" title="Environment">PROD</span>
        <button class="btn btn-ghost" id="refreshBtn" type="button">Refresh</button>
      </div>
    </header>

    <main class="content">
      <section class="card">
        <div class="card-header">
          <h2>Patient details</h2>
          <p class="muted">These details are sent to the booking API when you confirm an appointment.</p>
        </div>

        <div class="form-grid">
          <label class="field">
            <span>Full name</span>
            <input id="patientName" type="text" placeholder="e.g., John Doe" autocomplete="name" />
          </label>

          <label class="field">
            <span>Email</span>
            <input id="patientEmail" type="email" placeholder="e.g., test@example.com" autocomplete="email" />
          </label>
        </div>

        <div class="form-hint muted" id="patientHint" aria-live="polite"></div>
      </section>

      <section class="card">
        <div class="card-header card-header-row">
          <div>
            <h2>Available slots</h2>
            <p class="muted">Filter by date and time, then click <b>Book</b>.</p>
          </div>
          <div class="meta">
            <div class="muted" id="slotsCount">Showing 0 slots</div>
            <button class="btn btn-ghost" id="resetFiltersBtn" type="button">Reset filters</button>
          </div>
        </div>

        <div class="filters">
          <label class="field">
            <span>Date</span>
            <input id="dateFilter" type="date" />
          </label>

          <label class="field">
            <span>Time</span>
            <div class="select-wrap">
              <select id="timeFilter">
                <option value="">Any time</option>
              </select>
            </div>
          </label>

          <div class="filters-meta muted">
            <span id="lastUpdated">Last updated: —</span>
          </div>
        </div>

        <div class="divider"></div>

        <div class="status" id="statusText" aria-live="polite">Loading…</div>

        <div class="slots-scroll" aria-label="Scrollable list of available appointment slots">
          <div class="slots" id="slots"></div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div class="footer-left muted">
        <span class="kbd">Tip</span> Fill in your details once — your browser will remember them for this site.
      </div>

      <div class="footer-right">
        <button class="btn btn-ghost" id="debugBtn" type="button" aria-expanded="false" aria-controls="debugPanel">Debug</button>

        <div class="debug-panel" id="debugPanel" hidden>
          <div class="debug-row">
            <label class="checkbox">
              <input id="debugShowIds" type="checkbox" />
              <span>Show internal IDs</span>
            </label>
          </div>

          <div class="debug-row">
            <label class="checkbox">
              <input id="debugShowCache" type="checkbox" />
              <span>Show cache status</span>
            </label>
          </div>

          <div class="debug-cache muted" id="cacheStatus" hidden>Cache: —</div>

          <div class="debug-note muted">
            For the assignment report: screenshots should typically have debug off.
          </div>
        </div>
      </div>
    </footer>
  </div>

  <div class="toast-host" id="toastHost" aria-live="polite" aria-relevant="additions"></div>

  <script src="config.js"></script>
  <script src="app.js"></script>
</body>
</html>
